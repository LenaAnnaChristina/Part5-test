{"version":3,"sources":["components/Blog.js","components/Notification.js","components/LoginForm.js","components/BlogForm.js","components/Togglable.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","_ref","blog","handleLikes","handleRemoving","_useState","useState","_useState2","Object","slicedToArray","showFull","setShowFull","react_default","a","createElement","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","title","author","onClick","url","likes","className","id","user","name","Notification","message","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","value","onChange","type","BlogForm","createBlog","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","setUrl","_useState7","_useState8","setLikes","event","preventDefault","_ref2","target","_ref3","_ref4","_ref5","Togglable","forwardRef","props","ref","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","token","services_blogs","getAll","axios","get","then","response","data","create","asyncToGenerator","_regeneratorRuntime","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","put","concat","setToken","newToken","login","login_regeneratorRuntime","credentials","App","blogs","setBlogs","setMessage","setUsername","setPassword","_useState9","_useState10","setUpdate","_useState11","_useState12","setUser","blogFormRef","useRef","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","JSON","parse","setTimeout","handleLogin","App_regeneratorRuntime","_user2","loginService","setItem","stringify","text","t0","handleLogout","_callee2","_context2","removeItem","addBlog","_callee3","blogObject","_context3","current","_x2","_callee4","_context4","Math","floor","random","_x3","_x4","_callee5","_context5","confirm","remove","_x5","components_Notification","components_Togglable","components_LoginForm","_ref6","_ref7","components_BlogForm","sort","b","map","components_Blog","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.ce56c7b0.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Blog = ({ blog, handleLikes, handleRemoving }) => {\r\n  const [showFull, setShowFull] = useState(false)\r\n\r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5,\r\n  }\r\n\r\n  const showFullBlog = () => {\r\n    return (\r\n      <div>\r\n        <p>{blog.url}</p>\r\n        <p>\r\n          {blog.likes}{' '}\r\n          <button className='like' onClick={() => handleLikes(blog.id, blog.likes)}>like</button>\r\n        </p>\r\n        <p>{blog.user.name}</p>\r\n        <button className='remove' onClick={() => handleRemoving(blog)}>Remove</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div style={blogStyle}>\r\n      <p>{blog.title}</p>\r\n      <i>{blog.author}</i>\r\n      <button onClick={() => setShowFull(!showFull)}>\r\n        {showFull ? 'hide' : 'view'}\r\n      </button>\r\n      {showFull && showFullBlog()}\r\n    </div>\r\n  )\r\n}\r\n\r\nBlog.propTypes = {\r\n  setUpdate: PropTypes.func,\r\n  blog: PropTypes.shape({\r\n    title: PropTypes.string.isRequired,\r\n    author: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    likes: PropTypes.string.isRequired,\r\n  }),\r\n}\r\n\r\nexport default Blog\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default Notification","import React from 'react'\r\n\r\nconst LoginForm = ({\r\n    handleSubmit,\r\n    handleUsernameChange,\r\n    handlePasswordChange,\r\n    username,\r\n    password\r\n   }) => {\r\n   return (\r\n     <div>\r\n       <h2>Login</h2>\r\n \r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n           username\r\n           <input\r\n             value={username}\r\n             onChange={handleUsernameChange}\r\n           />\r\n         </div>\r\n         <div>\r\n           password\r\n           <input\r\n             type=\"password\"\r\n             value={password}\r\n             onChange={handlePasswordChange}\r\n           />\r\n       </div>\r\n         <button type=\"submit\">login</button>\r\n       </form>\r\n     </div>\r\n   )\r\n }\r\n \r\n export default LoginForm","import React, { useState } from 'react'\r\n\r\nconst BlogForm = ({ createBlog }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [author, setAuthor] = useState('')\r\n  const [url, setUrl] = useState('')\r\n  const [likes, setLikes] = useState('')\r\n\r\n  const handleCreateBlog = (event) => {\r\n    event.preventDefault()\r\n    createBlog({\r\n      title,\r\n      author,\r\n      url,\r\n      likes,\r\n    })\r\n    setTitle('')\r\n    setAuthor('')\r\n    setUrl('')\r\n    setLikes('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Create new blog</h2>\r\n      <form onSubmit={handleCreateBlog}>\r\n        <div>\r\n          title:\r\n          <input\r\n            id=\"title\"\r\n            value={title}\r\n            name=\"title\"\r\n            onChange={({ target }) => setTitle(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          author:\r\n          <input\r\n            id=\"author\"\r\n            value={author}\r\n            name=\"author\"\r\n            onChange={({ target }) => setAuthor(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          url:\r\n          <input\r\n            id=\"url\"\r\n            value={url}\r\n            name=\"url\"\r\n            onChange={({ target }) => setUrl(target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          likes:\r\n          <input\r\n            id=\"likes\"\r\n            value={likes}\r\n            name=\"likes\"\r\n            onChange={({ target }) => setLikes(target.value)}\r\n          />\r\n        </div>\r\n        <button id='create-blog' type=\"submit\">Create</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm\r\n","import React, { useState, forwardRef, useImperativeHandle } from \"react\"\r\n\r\nconst Togglable = forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? \"none\" : \"\" }\r\n  const showWhenVisible = { display: visible ? \"\" : \"none\" }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility,\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button className=\"new-blog-btn\" onClick={toggleVisibility}>\r\n          {props.buttonLabel}\r\n        </button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button className=\"cancel-btn\" onClick={toggleVisibility}>\r\n          cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Togglable","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, update, setToken }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default login","import React, { useState, useEffect, useRef } from 'react'\r\nimport Blog from './components/Blog'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport BlogForm from './components/BlogForm'\r\nimport Togglable from './components/Togglable'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [message, setMessage] = useState(null)\r\n\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [update, setUpdate] = useState(null)\r\n\r\n  const [user, setUser] = useState(null)\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then((blogs) => setBlogs(blogs))\r\n  }, [update])\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  }, [message])\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n\r\n    try {\r\n      const user = await loginService.login({\r\n        username,\r\n        password,\r\n      })\r\n\r\n      blogService.setToken(user.token)\r\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\r\n\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n      setMessage({\r\n        text: `Welcome ${user.name}`,\r\n        type: 'success',\r\n      })\r\n    } catch (exception) {\r\n      setMessage({\r\n        text: 'wrong username or password',\r\n        type: 'error',\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleLogout = async () => {\r\n    window.localStorage.removeItem('loggedBlogappUser')\r\n    setMessage({\r\n      text: 'Logout success',\r\n      type: 'success',\r\n    })\r\n    setUser(null)\r\n  }\r\n\r\n  const addBlog = async (blogObject) => {\r\n    try {\r\n      blogFormRef.current.toggleVisibility()\r\n      const response = await blogService.create(blogObject)\r\n      setBlogs(blogs.concat(response))\r\n      setMessage({\r\n        text: `a new blog ${response.title} by ${response.author} added`,\r\n        type: 'success',\r\n      })\r\n    } catch (exception) {\r\n      setMessage({\r\n        text: `${exception}`,\r\n        type: 'error',\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleLikes = async (id, likes) => {\r\n    await blogService.update({\r\n      id: id,\r\n      likes: likes + 1,\r\n    })\r\n    setUpdate(Math.floor(Math.random() * 1000))\r\n  }\r\n\r\n  const handleRemoving = async (blog) => {\r\n    const result = window.confirm(`Remove ${blog.title} by ${blog.author}`)\r\n\r\n    if (result) {\r\n      await blogService.remove({\r\n        id: blog.id,\r\n      })\r\n      setUpdate(Math.floor(Math.random() * 1000))\r\n    }\r\n  }\r\n\r\n  const loginForm = () => (\r\n    <Togglable buttonLabel=\"log in\">\r\n      <LoginForm\r\n        handleSubmit={handleLogin}\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n      />\r\n    </Togglable>\r\n  )\r\n\r\n  const userInfo = () => (\r\n    <div>\r\n      {user.name} logged in <button onClick={handleLogout}>Logout</button>\r\n    </div>\r\n  )\r\n\r\n  const blogForm = () => (\r\n    <Togglable buttonLabel=\"New Blog\" ref={blogFormRef}>\r\n      <BlogForm addBlog={addBlog} />\r\n    </Togglable>\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} />\r\n      {user === null ? (\r\n        <div>\r\n          <h2>Log in to application</h2>\r\n          {loginForm()}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h2>blogs</h2>\r\n          {userInfo()}\r\n          {blogForm()}\r\n          {blogs.sort((a, b) => (a.likes > b.likes ? -1 : 1)) &&\r\n            blogs.map((blog) => (\r\n              // eslint-disable-next-line react/jsx-key\r\n              <Blog\r\n                blog={blog}\r\n                handleLikes={handleLikes}\r\n                handleRemoving={handleRemoving}\r\n              />\r\n            ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport App from './App'\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\r\n"],"sourceRoot":""}